<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cary.cwish.dao.InvoiceDao" >
  <resultMap id="BaseResultMap" type="com.cary.cwish.pojo.Invoice" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="ID" property="id" jdbcType="INTEGER" />
    <result column="Request_ID" property="requestId" jdbcType="INTEGER" />
    <result column="Invoice_Type" property="invoiceType" jdbcType="VARCHAR" />
    <result column="Invoice_Sequence" property="invoiceSequence" jdbcType="VARCHAR" />
    <result column="Sequence_Date" property="sequenceDate" jdbcType="VARCHAR" />
    <result column="Customer_Number" property="customerNumber" jdbcType="VARCHAR" />
    <result column="Customer_Name" property="customerName" jdbcType="OTHER" />
    <result column="Customer_VatNumber" property="customerVatnumber" jdbcType="VARCHAR" />
    <result column="Customer_VatAddressTele" property="customerVataddresstele" jdbcType="VARCHAR" />
    <result column="Customer_VatBankNum" property="customerVatbanknum" jdbcType="VARCHAR" />
    <result column="Comments" property="comments" jdbcType="VARCHAR" />
    <result column="SpecialInvoice_RedNumber" property="specialinvoiceRednumber" jdbcType="VARCHAR" />
    <result column="CommonInvoice_EquivalentCode" property="commoninvoiceEquivalentcode" jdbcType="VARCHAR" />
    <result column="CommonInvoice_EquivalentNumber" property="commoninvoiceEquivalentnumber" jdbcType="VARCHAR" />
    <result column="Created_UserName" property="createdUsername" jdbcType="VARCHAR" />
    <result column="Checked_UserName" property="checkedUsername" jdbcType="VARCHAR" />
    <result column="Receipt_UserName" property="receiptUsername" jdbcType="VARCHAR" />
    <result column="Sale_BankNum" property="saleBanknum" jdbcType="VARCHAR" />
    <result column="Sale_AddressTele" property="saleAddresstele" jdbcType="VARCHAR" />
    <result column="Item_Number" property="itemNumber" jdbcType="VARCHAR" />
    <result column="Item_Name" property="itemName" jdbcType="VARCHAR" />
    <result column="Specification" property="specification" jdbcType="VARCHAR" />
    <result column="Uom_Code" property="uomCode" jdbcType="VARCHAR" />
    <result column="Qty" property="qty" jdbcType="NUMERIC" />
    <result column="VatInclusive_Amt" property="vatinclusiveAmt" jdbcType="NUMERIC" />
    <result column="Tax_Percent" property="taxPercent" jdbcType="NUMERIC" />
    <result column="Tax_Amt" property="taxAmt" jdbcType="NUMERIC" />
    <result column="VatInclusive_DiscountAmt" property="vatinclusiveDiscountamt" jdbcType="NUMERIC" />
    <result column="Tax_DiscountAmt" property="taxDiscountamt" jdbcType="NUMERIC" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    ID, Request_ID, Invoice_Type, Invoice_Sequence, Sequence_Date, Customer_Number, Customer_Name, 
    Customer_VatNumber, Customer_VatAddressTele, Customer_VatBankNum, Comments, SpecialInvoice_RedNumber, 
    CommonInvoice_EquivalentCode, CommonInvoice_EquivalentNumber, Created_UserName, Checked_UserName, 
    Receipt_UserName, Sale_BankNum, Sale_AddressTele, Item_Number, Item_Name, Specification, 
    Uom_Code, Qty, VatInclusive_Amt, Tax_Percent, Tax_Amt, VatInclusive_DiscountAmt, 
    Tax_DiscountAmt
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from INVOICE_VAT_EXP
    where ID = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from INVOICE_VAT_EXP
    where ID = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.cary.cwish.pojo.Invoice" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into INVOICE_VAT_EXP (ID, Request_ID, Invoice_Type, 
      Invoice_Sequence, Sequence_Date, Customer_Number, 
      Customer_Name, Customer_VatNumber, Customer_VatAddressTele, 
      Customer_VatBankNum, Comments, SpecialInvoice_RedNumber, 
      CommonInvoice_EquivalentCode, CommonInvoice_EquivalentNumber, 
      Created_UserName, Checked_UserName, Receipt_UserName, 
      Sale_BankNum, Sale_AddressTele, Item_Number, 
      Item_Name, Specification, Uom_Code, 
      Qty, VatInclusive_Amt, Tax_Percent, 
      Tax_Amt, VatInclusive_DiscountAmt, Tax_DiscountAmt
      )
    values (#{id,jdbcType=INTEGER}, #{requestId,jdbcType=INTEGER}, #{invoiceType,jdbcType=VARCHAR}, 
      #{invoiceSequence,jdbcType=VARCHAR}, #{sequenceDate,jdbcType=VARCHAR}, #{customerNumber,jdbcType=VARCHAR}, 
      #{customerName,jdbcType=OTHER}, #{customerVatnumber,jdbcType=VARCHAR}, #{customerVataddresstele,jdbcType=VARCHAR}, 
      #{customerVatbanknum,jdbcType=VARCHAR}, #{comments,jdbcType=VARCHAR}, #{specialinvoiceRednumber,jdbcType=VARCHAR}, 
      #{commoninvoiceEquivalentcode,jdbcType=VARCHAR}, #{commoninvoiceEquivalentnumber,jdbcType=VARCHAR}, 
      #{createdUsername,jdbcType=VARCHAR}, #{checkedUsername,jdbcType=VARCHAR}, #{receiptUsername,jdbcType=VARCHAR}, 
      #{saleBanknum,jdbcType=VARCHAR}, #{saleAddresstele,jdbcType=VARCHAR}, #{itemNumber,jdbcType=VARCHAR}, 
      #{itemName,jdbcType=VARCHAR}, #{specification,jdbcType=VARCHAR}, #{uomCode,jdbcType=VARCHAR}, 
      #{qty,jdbcType=NUMERIC}, #{vatinclusiveAmt,jdbcType=NUMERIC}, #{taxPercent,jdbcType=NUMERIC}, 
      #{taxAmt,jdbcType=NUMERIC}, #{vatinclusiveDiscountamt,jdbcType=NUMERIC}, #{taxDiscountamt,jdbcType=NUMERIC}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.cary.cwish.pojo.Invoice" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into INVOICE_VAT_EXP
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        ID,
      </if>
      <if test="requestId != null" >
        Request_ID,
      </if>
      <if test="invoiceType != null" >
        Invoice_Type,
      </if>
      <if test="invoiceSequence != null" >
        Invoice_Sequence,
      </if>
      <if test="sequenceDate != null" >
        Sequence_Date,
      </if>
      <if test="customerNumber != null" >
        Customer_Number,
      </if>
      <if test="customerName != null" >
        Customer_Name,
      </if>
      <if test="customerVatnumber != null" >
        Customer_VatNumber,
      </if>
      <if test="customerVataddresstele != null" >
        Customer_VatAddressTele,
      </if>
      <if test="customerVatbanknum != null" >
        Customer_VatBankNum,
      </if>
      <if test="comments != null" >
        Comments,
      </if>
      <if test="specialinvoiceRednumber != null" >
        SpecialInvoice_RedNumber,
      </if>
      <if test="commoninvoiceEquivalentcode != null" >
        CommonInvoice_EquivalentCode,
      </if>
      <if test="commoninvoiceEquivalentnumber != null" >
        CommonInvoice_EquivalentNumber,
      </if>
      <if test="createdUsername != null" >
        Created_UserName,
      </if>
      <if test="checkedUsername != null" >
        Checked_UserName,
      </if>
      <if test="receiptUsername != null" >
        Receipt_UserName,
      </if>
      <if test="saleBanknum != null" >
        Sale_BankNum,
      </if>
      <if test="saleAddresstele != null" >
        Sale_AddressTele,
      </if>
      <if test="itemNumber != null" >
        Item_Number,
      </if>
      <if test="itemName != null" >
        Item_Name,
      </if>
      <if test="specification != null" >
        Specification,
      </if>
      <if test="uomCode != null" >
        Uom_Code,
      </if>
      <if test="qty != null" >
        Qty,
      </if>
      <if test="vatinclusiveAmt != null" >
        VatInclusive_Amt,
      </if>
      <if test="taxPercent != null" >
        Tax_Percent,
      </if>
      <if test="taxAmt != null" >
        Tax_Amt,
      </if>
      <if test="vatinclusiveDiscountamt != null" >
        VatInclusive_DiscountAmt,
      </if>
      <if test="taxDiscountamt != null" >
        Tax_DiscountAmt,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="requestId != null" >
        #{requestId,jdbcType=INTEGER},
      </if>
      <if test="invoiceType != null" >
        #{invoiceType,jdbcType=VARCHAR},
      </if>
      <if test="invoiceSequence != null" >
        #{invoiceSequence,jdbcType=VARCHAR},
      </if>
      <if test="sequenceDate != null" >
        #{sequenceDate,jdbcType=VARCHAR},
      </if>
      <if test="customerNumber != null" >
        #{customerNumber,jdbcType=VARCHAR},
      </if>
      <if test="customerName != null" >
        #{customerName,jdbcType=OTHER},
      </if>
      <if test="customerVatnumber != null" >
        #{customerVatnumber,jdbcType=VARCHAR},
      </if>
      <if test="customerVataddresstele != null" >
        #{customerVataddresstele,jdbcType=VARCHAR},
      </if>
      <if test="customerVatbanknum != null" >
        #{customerVatbanknum,jdbcType=VARCHAR},
      </if>
      <if test="comments != null" >
        #{comments,jdbcType=VARCHAR},
      </if>
      <if test="specialinvoiceRednumber != null" >
        #{specialinvoiceRednumber,jdbcType=VARCHAR},
      </if>
      <if test="commoninvoiceEquivalentcode != null" >
        #{commoninvoiceEquivalentcode,jdbcType=VARCHAR},
      </if>
      <if test="commoninvoiceEquivalentnumber != null" >
        #{commoninvoiceEquivalentnumber,jdbcType=VARCHAR},
      </if>
      <if test="createdUsername != null" >
        #{createdUsername,jdbcType=VARCHAR},
      </if>
      <if test="checkedUsername != null" >
        #{checkedUsername,jdbcType=VARCHAR},
      </if>
      <if test="receiptUsername != null" >
        #{receiptUsername,jdbcType=VARCHAR},
      </if>
      <if test="saleBanknum != null" >
        #{saleBanknum,jdbcType=VARCHAR},
      </if>
      <if test="saleAddresstele != null" >
        #{saleAddresstele,jdbcType=VARCHAR},
      </if>
      <if test="itemNumber != null" >
        #{itemNumber,jdbcType=VARCHAR},
      </if>
      <if test="itemName != null" >
        #{itemName,jdbcType=VARCHAR},
      </if>
      <if test="specification != null" >
        #{specification,jdbcType=VARCHAR},
      </if>
      <if test="uomCode != null" >
        #{uomCode,jdbcType=VARCHAR},
      </if>
      <if test="qty != null" >
        #{qty,jdbcType=NUMERIC},
      </if>
      <if test="vatinclusiveAmt != null" >
        #{vatinclusiveAmt,jdbcType=NUMERIC},
      </if>
      <if test="taxPercent != null" >
        #{taxPercent,jdbcType=NUMERIC},
      </if>
      <if test="taxAmt != null" >
        #{taxAmt,jdbcType=NUMERIC},
      </if>
      <if test="vatinclusiveDiscountamt != null" >
        #{vatinclusiveDiscountamt,jdbcType=NUMERIC},
      </if>
      <if test="taxDiscountamt != null" >
        #{taxDiscountamt,jdbcType=NUMERIC},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.cary.cwish.pojo.Invoice" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update INVOICE_VAT_EXP
    <set >
      <if test="requestId != null" >
        Request_ID = #{requestId,jdbcType=INTEGER},
      </if>
      <if test="invoiceType != null" >
        Invoice_Type = #{invoiceType,jdbcType=VARCHAR},
      </if>
      <if test="invoiceSequence != null" >
        Invoice_Sequence = #{invoiceSequence,jdbcType=VARCHAR},
      </if>
      <if test="sequenceDate != null" >
        Sequence_Date = #{sequenceDate,jdbcType=VARCHAR},
      </if>
      <if test="customerNumber != null" >
        Customer_Number = #{customerNumber,jdbcType=VARCHAR},
      </if>
      <if test="customerName != null" >
        Customer_Name = #{customerName,jdbcType=OTHER},
      </if>
      <if test="customerVatnumber != null" >
        Customer_VatNumber = #{customerVatnumber,jdbcType=VARCHAR},
      </if>
      <if test="customerVataddresstele != null" >
        Customer_VatAddressTele = #{customerVataddresstele,jdbcType=VARCHAR},
      </if>
      <if test="customerVatbanknum != null" >
        Customer_VatBankNum = #{customerVatbanknum,jdbcType=VARCHAR},
      </if>
      <if test="comments != null" >
        Comments = #{comments,jdbcType=VARCHAR},
      </if>
      <if test="specialinvoiceRednumber != null" >
        SpecialInvoice_RedNumber = #{specialinvoiceRednumber,jdbcType=VARCHAR},
      </if>
      <if test="commoninvoiceEquivalentcode != null" >
        CommonInvoice_EquivalentCode = #{commoninvoiceEquivalentcode,jdbcType=VARCHAR},
      </if>
      <if test="commoninvoiceEquivalentnumber != null" >
        CommonInvoice_EquivalentNumber = #{commoninvoiceEquivalentnumber,jdbcType=VARCHAR},
      </if>
      <if test="createdUsername != null" >
        Created_UserName = #{createdUsername,jdbcType=VARCHAR},
      </if>
      <if test="checkedUsername != null" >
        Checked_UserName = #{checkedUsername,jdbcType=VARCHAR},
      </if>
      <if test="receiptUsername != null" >
        Receipt_UserName = #{receiptUsername,jdbcType=VARCHAR},
      </if>
      <if test="saleBanknum != null" >
        Sale_BankNum = #{saleBanknum,jdbcType=VARCHAR},
      </if>
      <if test="saleAddresstele != null" >
        Sale_AddressTele = #{saleAddresstele,jdbcType=VARCHAR},
      </if>
      <if test="itemNumber != null" >
        Item_Number = #{itemNumber,jdbcType=VARCHAR},
      </if>
      <if test="itemName != null" >
        Item_Name = #{itemName,jdbcType=VARCHAR},
      </if>
      <if test="specification != null" >
        Specification = #{specification,jdbcType=VARCHAR},
      </if>
      <if test="uomCode != null" >
        Uom_Code = #{uomCode,jdbcType=VARCHAR},
      </if>
      <if test="qty != null" >
        Qty = #{qty,jdbcType=NUMERIC},
      </if>
      <if test="vatinclusiveAmt != null" >
        VatInclusive_Amt = #{vatinclusiveAmt,jdbcType=NUMERIC},
      </if>
      <if test="taxPercent != null" >
        Tax_Percent = #{taxPercent,jdbcType=NUMERIC},
      </if>
      <if test="taxAmt != null" >
        Tax_Amt = #{taxAmt,jdbcType=NUMERIC},
      </if>
      <if test="vatinclusiveDiscountamt != null" >
        VatInclusive_DiscountAmt = #{vatinclusiveDiscountamt,jdbcType=NUMERIC},
      </if>
      <if test="taxDiscountamt != null" >
        Tax_DiscountAmt = #{taxDiscountamt,jdbcType=NUMERIC},
      </if>
    </set>
    where ID = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.cary.cwish.pojo.Invoice" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update INVOICE_VAT_EXP
    set Request_ID = #{requestId,jdbcType=INTEGER},
      Invoice_Type = #{invoiceType,jdbcType=VARCHAR},
      Invoice_Sequence = #{invoiceSequence,jdbcType=VARCHAR},
      Sequence_Date = #{sequenceDate,jdbcType=VARCHAR},
      Customer_Number = #{customerNumber,jdbcType=VARCHAR},
      Customer_Name = #{customerName,jdbcType=OTHER},
      Customer_VatNumber = #{customerVatnumber,jdbcType=VARCHAR},
      Customer_VatAddressTele = #{customerVataddresstele,jdbcType=VARCHAR},
      Customer_VatBankNum = #{customerVatbanknum,jdbcType=VARCHAR},
      Comments = #{comments,jdbcType=VARCHAR},
      SpecialInvoice_RedNumber = #{specialinvoiceRednumber,jdbcType=VARCHAR},
      CommonInvoice_EquivalentCode = #{commoninvoiceEquivalentcode,jdbcType=VARCHAR},
      CommonInvoice_EquivalentNumber = #{commoninvoiceEquivalentnumber,jdbcType=VARCHAR},
      Created_UserName = #{createdUsername,jdbcType=VARCHAR},
      Checked_UserName = #{checkedUsername,jdbcType=VARCHAR},
      Receipt_UserName = #{receiptUsername,jdbcType=VARCHAR},
      Sale_BankNum = #{saleBanknum,jdbcType=VARCHAR},
      Sale_AddressTele = #{saleAddresstele,jdbcType=VARCHAR},
      Item_Number = #{itemNumber,jdbcType=VARCHAR},
      Item_Name = #{itemName,jdbcType=VARCHAR},
      Specification = #{specification,jdbcType=VARCHAR},
      Uom_Code = #{uomCode,jdbcType=VARCHAR},
      Qty = #{qty,jdbcType=NUMERIC},
      VatInclusive_Amt = #{vatinclusiveAmt,jdbcType=NUMERIC},
      Tax_Percent = #{taxPercent,jdbcType=NUMERIC},
      Tax_Amt = #{taxAmt,jdbcType=NUMERIC},
      VatInclusive_DiscountAmt = #{vatinclusiveDiscountamt,jdbcType=NUMERIC},
      Tax_DiscountAmt = #{taxDiscountamt,jdbcType=NUMERIC}
    where ID = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectHundredRecords" resultMap="BaseResultMap" >
    SELECT *
	FROM INVOICE_VAT_EXP
	WHERE Invoice_Sequence in (
		SELECT a.Invoice_sequence
		FROM (
			select * from INVOICE_VAT_EXP where id in (
				select max(ID) from INVOICE_VAT_EXP
				GROUP BY Invoice_Sequence
			)
			and Request_ID = #{requiredId, jdbcType=INTEGER}
		) a
		ORDER BY a.ID
		OFFSET #{startNum, jdbcType=INTEGER} ROWS
		FETCH NEXT 100 ROWS ONLY
	)
  </select>
  <select id="selectCountRecords" resultType="java.lang.Integer" >
    SELECT count(*) FROM INVOICE_VAT_EXP WHERE id in (
		SELECT max(ID) FROM INVOICE_VAT_EXP
		GROUP BY Invoice_Sequence
	)
	AND Request_ID = #{requiredId, jdbcType=INTEGER}
  </select>
</mapper>